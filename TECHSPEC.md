# [Tech Spec] Stock Portfolio Analysis

## Background

현재 매달 월급이 들어올 때 마다 월급의 일부분을 주식에 넣으면서, 포트폴리오 리밸런싱을 하는 방식으로 투자를 하고 있다. 기본적으로 좋은 투자 방식이라고 생각하지만, 여러 고민이 든다.

- 거시 경제 흐름상 중간중간에 미세 포트폴리오 조정을 해야할 필요가 있을 것 같다. 예를 들어 지금은 반도체 섹터 비중이 높은데, 컨센서스가 바뀐다면 그에 따라 나도 어느정도 대응이 필요하다.
- 자산 관리 입장에서 어떻게 현금을 보유하고 있을 지도 고민이다. 전체 자산의 20%를 현금으로 가지고 있어야겠다라는 생각은 하지만, 주식이 전체적으로 하락일 때는 현금 비중을 줄여서 더 투자를 해야할 것 같고, 주식이 상승일 때는 리밸런싱과 현금 확보를 통해 수익 실현을 해야할 것 같다.

또한 별개로 다음과 같은 상황이 있다.

- 부모님이 은퇴할 시기가 다가오면서 부동산들을 정리하고 일부는 금융 자산으로 바꿔서 매달 현금흐름을 창출해야 한다. 예를 들어 금융자산을 20억 보유해서 매년 3% 정도를 생활비로 사용하는 방식이다. 그러면서도 인플레이션을 헷징할 수 있어야 하며, 너무 공격적이어서 20~30%가 하락해버리면, 다른 소득이 없기 때문에 회복하기가 어렵다.
- 나의 경우에는 공격적으로 투자를 해도 근로소득이 있기 때문에 버틸 수 있다. 그러나 난 금융 쪽에는 지식이 적기 때문에 내 포트폴리오가 좋은 포트폴리오인지 잘 모르고, 더군다나 개별 투자는 항상 시장 수익률보다 낮았다.

따라서 Agent Coding을 통해, 현재 나의 상황에 맞는 포트폴리오를 제안하는 프로젝트를 시작하려고 한다. 이 프로젝트는,

- 다양한 전문가 보고서를 바탕으로 거시 경제의 상황을 파악한다. 미중 대립 관계, 반도체 수요, AI 시대에서 부의 재편 방향 등을 고민해서 전체 시장 흐름을 정리한다.
- 여러 MCP Tool을 통해서 분석에 필요한 기능들을 수행한다.
    - 포트폴리오 백테스팅
    - 주식의 수익률 분석, 전문가 판단, 커뮤니티/뉴스 분석
    - 지난달 예측 결과에 대해 각 Agent별 성과 판단, 회고
- Agent를 여러 Layer로 나눠서 각자 독립성을 확보하면서도 효율적으로 일을 수행한다.
    - 하나의 업무를 다양한 관점을 가진 Agent로 나눠서 각자 수행한 뒤, 이를 누군가 평가한다거나
    - Agent의 결과를 다른 Agent가 점검하면서 필요한 추가 분석을 수행하게 한다거나
- 이를 Configurable하게 만들어서, 다양한 Agent Design을 만들수 있게 한다.